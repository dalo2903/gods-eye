<% layout('../share/layout.ejs') -%>

<div class="main main-raised">

        <div class="container">
            <div class="text-left" ng-controller="createController">
                <div class="row">
                    <div class="col-sm-3"></div>
                    <div class="wrapper col-sm-6">
                        <form id="create-post-form" action="/api/post" method="POST">
                            <h1 class="form-header" style="border-top-left-radius: 10px;border-top-right-radius: 10px">Create
                                post
                            </h1>

                            <div class="form-group label-floating">
                                <label class="control-label">Title</label>
                                <input type="text" name="title" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label>Images/Videos</label>
                                <!-- <img class="thumb" ng-src="{{ imgSrc }}" ng-repeat="imgSrc in post.images"> -->
                                <input data-max-files="10" class="my-pond" type="file" multiple>
                            </div>

                            <div class="form-group label-floating">
                                <label class="control-label">Location</label>
                                <input type="text" name="location" id="location" class="form-control" placeholder=""/>
         
                                <div id="map" style="width: 100%; height: 300px"></div>
                                <div id="infowindow-content" class="hide">
                                    <img src="" width="16" height="16" id="place-icon">
                                    <span id="place-name" class="title"></span><br>
                                    <span id="place-address"></span>
                                </div>
                            </div>

                            <div class="form-group">
                                <button id="submit-create-post" class="btn btn-primary" type="submit">Create</button>
                            </div>
                        </form>
                        <div class="hide">
                            <span id="user-id">
                                <%- user_id %>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

</div>

<script src="https://maps.googleapis.com/maps/api/js?key=<%-GOOGLE_PLACE_KEY%>&libraries=places&callback=initMap" async
    defer></script>

<script src="/javascripts/post/create.js"></script>

<link href="https://unpkg.com/filepond/dist/filepond.css" rel="stylesheet">
<link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet">

<script src="https://unpkg.com/filepond-plugin-image-exif-orientation/dist/filepond-plugin-image-exif-orientation.js"></script>
<script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
<script src="https://unpkg.com/filepond-plugin-file-encode/dist/filepond-plugin-file-encode.js"></script>
<script src="https://unpkg.com/filepond/dist/filepond.min.js"></script>
<script src="https://unpkg.com/jquery-filepond/filepond.jquery.js"></script>